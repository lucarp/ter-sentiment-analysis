setwd("/media/matthieu/Data/Matthieu/##Etude/#M1/S2/TER/ter-sentiment-analysis")
library(aricode)
library(R.matlab)
library(skmeans)
library("FactoMineR")
library(NMF)
# ------- Dataset loading -------
#X <- readMat("mat_files/output_30.csv_tf-idf-l2.mat")
#X <- readMat("mat_files/output_not_original_30.csv_bow.mat")
#X <- readMat("mat_files/output_not_original_30.csv_tf-idf.mat")
#X <- readMat("mat_files/output_not_original_30.csv_tf-idf-l2.mat")
#X <- readMat("mat_files/output_not_original_50.csv_tf-idf-l2.mat")
X <- readMat("mat_files/output_not_original_10.csv_tf-idf-l2.mat")
X <- read.csv("doc2vec_matrix.csv", header = FALSE)
df <- X$X
df <- X
dim(df)
mat_df <- as.matrix(df)
dim(mat_df)
label <- read.csv("mat_files/dataset_LABEL.csv", header = FALSE)
k <- 5
labelK <- apply(label, MARGIN = 1, FUN=function(x) max(1, ceiling(x*k))) # true label (1 to k)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1.csv", header = TRUE)
res_wc_nmtf <- normalize(res_wc_nmtf)
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1_5_200.csv", header = TRUE)
res_wc_nmtf <- normalize(res_wc_nmtf)
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1_cos_5_200.csv", header = TRUE)
res_wc_nmtf <- normalize(res_wc_nmtf)
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1_5_200.csv", header = TRUE)
res_wc_nmtf <- normalize(res_wc_nmtf)
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
NMI(label_res, labelK)
ARI(label_res, labelK)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1.csv", header = TRUE)
res_wc_nmtf <- normalize(res_wc_nmtf)
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- apply(res_wc_nmtf, MARGIN = 2, FUN=normalize)
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- apply(res_wc_nmtf, MARGIN = 1, FUN=normalize)
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- apply(res_wc_nmtf, MARGIN = 2, FUN=normalize)
layout(matrix(1:2))
plot(labelK)
plot(label_res)
NMI(label_res, labelK)
ARI(label_res, labelK)
res_wc_nmtf <- t(normalize(t(res_wc_nmtf)))
normalize <- function(x) {x / sqrt(sum(x^2))}
res_wc_nmtf <- t(normalize(t(res_wc_nmtf)))
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
normalize <- function(x) {x / sqrt(rowSums(x^2))}
res_wc_nmtf <- t(normalize(t(res_wc_nmtf)))
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
res_std <- apply(res_wc_nmtf, MARGIN = 1, FUN=sd)
res_std
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf
sqrt(rowSums(res_wc_nmtf[,1]^2))
sqrt(sum(res_wc_nmtf[,1]^2))
NMI(label_res, labelK)
ARI(label_res, labelK)
label_res
labelK
?NMI
install.packages("NMI", dependencies = TRUE)
install.packages("NMI", dependencies = TRUE)
library("NMI")
?NMI
NMI::NMI(cbind(1:5006, labelK), cbind(1:5006, label_res))
NMI(label_res, labelK)
aricode::NMI(labelK, label_res)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1_5_200.csv", header = TRUE)
res_wc_nmtf <- t(normalize(t(res_wc_nmtf)))
layout(matrix(1:2))
plot(labelK)
plot(label_res)
res_wc_nmtf <- read.csv("result_wc_nmtf/wc-nmtf_Z_l1_5_200.csv", header = TRUE)
res_wc_nmtf <- t(normalize(t(res_wc_nmtf)))
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
layout(matrix(1:2))
plot(labelK)
plot(label_res)
