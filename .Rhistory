library("ARI")
install.packages("ARI", dependencies = TRUE)
install.packages("ari", dependencies = TRUE)
lambdas <- c("10000.0", "1000.0", "100.0", "10.0", "1.0", "0.1", "0.01", "0.001", "0.0001", "1e-05", "0.0")
lambdas <- rev(lambdas)
cos_nmi <- c()
cos_ari <- c()
for(lambda in lambdas){
#file <- paste("result_wc_nmtf/lambda/cos/wc-nmtf_Z_l", lambda, ".csv", sep = "")
file <- paste("result_wc_nmtf/lambda/p_tra/wc-nmtf_Z_l", lambda, "_p_tra.csv", sep = "")
res_wc_nmtf <- read.csv(file, header = TRUE)
res_wc_nmtf <- t( normalize( t(res_wc_nmtf) ) )
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
t_nmi <- NMI(label_res, labelK)
t_ari <- ARI(label_res, labelK)
cos_nmi <- c(cos_nmi, t_nmi)
cos_ari <- c(cos_ari, t_ari)
}
for(lambda in lambdas){
#file <- paste("result_wc_nmtf/lambda/cos/wc-nmtf_Z_l", lambda, ".csv", sep = "")
file <- paste("result_wc_nmtf/lambda/p_tra/wc-nmtf_Z_l", lambda, "_p_tra.csv", sep = "")
res_wc_nmtf <- read.csv(file, header = TRUE)
res_wc_nmtf <- t( normalize( t(res_wc_nmtf) ) )
label_res <- apply(res_wc_nmtf, MARGIN = 1, FUN=which.max)
t_nmi <- NMI(label_res, labelK)
t_ari <- ARI(label_res, labelK)
cos_nmi <- c(cos_nmi, t_nmi)
cos_ari <- c(cos_ari, t_ari)
}
temp = c(1:10)
matrix(c, nrow = 5)
matrix(temp, nrow = 5)
t <- Sys.time()
t2 <- Sys.time()
t2 - t
temp <- t2 - t
temp
plot(temp)
#Donn?es ocde
#setwd("C:/Users/pc/Documents/Cours/FD/Cours_FD_MIAGE/Cours3_FD16/Cours3_FD_MIAGE")
setwd("D:/Matthieu/##Etude/#M1/S2/DataScience/TP_2_km_M1")
#Donn?es ocde
#setwd("C:/Users/pc/Documents/Cours/FD/Cours_FD_MIAGE/Cours3_FD16/Cours3_FD_MIAGE")
#setwd("D:/Matthieu/##Etude/#M1/S2/DataScience/TP_2_km_M1")
setwd("/media/matthieu/Data/Matthieu/##Etude/#M1/S2/DataScience/TP_2_km_M1")
X=read.table("ocdeR.dat")
#description des variables
str(X)
n=nrow(X)
m=ncol(X)
##########################################################################
# Statistiques Descriptives
summary(X)
layout(matrix(c(1:12),3,4))
for(i in 1:11) {hist(X[,i],main=names(X)[i],xlab="")}
layout(1)
#Boite ? moustaches (Boxplot)
boxplot(X)
pairs(X)
##CAH et repr?sentation par ACP##
##########################################################################
#Centrage et r?duction des donn?es
don<-scale(X, center = TRUE, scale = TRUE)
#Calcul du tableau des distances
dc<-dist(X, method ="euclidean", diag=FALSE, upper=FALSE)
hc <- hclust(dc,method='single')
plot(hc)
hc <- hclust(dc^2,method='ward')
hc
plot(hc)
plot(hc,hang=-1)
plot(hc)
plot(hc,hang=-1)
class=cutree(hc,5)
class
labelK
setwd("/media/matthieu/Data/Matthieu/##Etude/#M1/S2/TER/ter-sentiment-analysis")
library(aricode)
library(R.matlab)
library(skmeans)
library("FactoMineR")
library(NMF)
normalize <- function(x) {x / sqrt(rowSums(x^2))}
normalizeByCol <- function(df) { t( normalize( t(df) ) )}
sent_process <- function(x){ (x[1] - x[2]) * 10 + x[3] }
# -------------- Dataset loading --------------
#X <- readMat("mat_files/output_30.csv_tf-idf-l2.mat")
#X <- readMat("mat_files/output_not_original_30.csv_bow.mat")
#X <- readMat("mat_files/output_not_original_30.csv_tf-idf.mat")
#X <- readMat("mat_files/output_not_original_30.csv_tf-idf-l2.mat")
#X <- readMat("mat_files/output_not_original_50.csv_tf-idf-l2.mat")
X <- readMat("mat_files/output_not_original_10.csv_tf-idf-l2.mat")
df <- X$X
dim(df)
mat_df <- as.matrix(df)
mat_df <- normalize(mat_df)
dim(mat_df)
label <- read.csv("mat_files/dataset_LABEL.csv", header = FALSE)
k <- 5
labelK <- apply(label, MARGIN = 1, FUN=function(x) max(1, ceiling(x*k))) # true label (1 to k)
labelK
# -------------- Spherical K-means --------------
res2 <- skmeans(mat_df, k)
res2$cluster
class
plot(class)
# -------------- LDA --------------
res_lda <- read.csv("latent_dirichlet_allocation_res.csv", header = TRUE)
# print results
res_lda <- t( normalize( t(res_lda) ) )
label_res <- apply(res_lda, MARGIN = 1, FUN=which.max)
layout(matrix(1:2))
plot(labelK)
plot(label_res)
